(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function te(){}function Xe(e){return e()}function Ie(){return Object.create(null)}function se(e){e.forEach(Xe)}function $e(e){return typeof e=="function"}function pe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function lt(e){return Object.keys(e).length===0}function fe(e){return e==null?"":e}function c(e,t){e.appendChild(t)}function U(e,t,n){e.insertBefore(t,n||null)}function J(e){e.parentNode&&e.parentNode.removeChild(e)}function Te(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function V(e){return document.createTextNode(e)}function P(){return V(" ")}function Ne(){return V("")}function K(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function xe(e){return e===""?null:+e}function rt(e){return Array.from(e.childNodes)}function ee(e,t){t=""+t,e.data!==t&&(e.data=t)}function x(e,t){e.value=t==null?"":t}function et(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function _e(e,t,n){for(let i=0;i<e.options.length;i+=1){const l=e.options[i];if(l.__value===t){l.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function je(e){const t=e.querySelector(":checked");return t&&t.__value}function at(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,i,t),l}let De;function Se(e){De=e}function ot(){if(!De)throw new Error("Function called outside component initialization");return De}function tt(){const e=ot();return(t,n,{cancelable:i=!1}={})=>{const l=e.$$.callbacks[t];if(l){const o=at(t,n,{cancelable:i});return l.slice().forEach(r=>{r.call(e,o)}),!o.defaultPrevented}return!0}}const ce=[],$=[];let be=[];const Le=[],st=Promise.resolve();let Ye=!1;function ut(){Ye||(Ye=!0,st.then(nt))}function ge(e){be.push(e)}function ie(e){Le.push(e)}const Oe=new Set;let ue=0;function nt(){if(ue!==0)return;const e=De;do{try{for(;ue<ce.length;){const t=ce[ue];ue++,Se(t),ct(t.$$)}}catch(t){throw ce.length=0,ue=0,t}for(Se(null),ce.length=0,ue=0;$.length;)$.pop()();for(let t=0;t<be.length;t+=1){const n=be[t];Oe.has(n)||(Oe.add(n),n())}be.length=0}while(ce.length);for(;Le.length;)Le.pop()();Ye=!1,Oe.clear(),Se(e)}function ct(e){if(e.fragment!==null){e.update(),se(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ge)}}function ft(e){const t=[],n=[];be.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),be=t}const Ee=new Set;let _t;function de(e,t){e&&e.i&&(Ee.delete(e),e.i(t))}function ke(e,t,n,i){if(e&&e.o){if(Ee.has(e))return;Ee.add(e),_t.c.push(()=>{Ee.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function le(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function Me(e){e&&e.c()}function me(e,t,n,i){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),i||ge(()=>{const r=e.$$.on_mount.map(Xe).filter($e);e.$$.on_destroy?e.$$.on_destroy.push(...r):se(r),e.$$.on_mount=[]}),o.forEach(ge)}function he(e,t){const n=e.$$;n.fragment!==null&&(ft(n.after_update),se(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,t){e.$$.dirty[0]===-1&&(ce.push(e),ut(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ye(e,t,n,i,l,o,r,u=[-1]){const _=De;Se(e);const f=e.$$={fragment:null,ctx:[],props:o,update:te,not_equal:l,bound:Ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(_?_.$$.context:[])),callbacks:Ie(),dirty:u,skip_bound:!1,root:t.target||_.$$.root};r&&r(f.root);let M=!1;if(f.ctx=n?n(e,t.props||{},(v,A,...w)=>{const Y=w.length?w[0]:A;return f.ctx&&l(f.ctx[v],f.ctx[v]=Y)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](Y),M&&dt(e,v)),A}):[],f.update(),M=!0,se(f.before_update),f.fragment=i?i(f.ctx):!1,t.target){if(t.hydrate){const v=rt(t.target);f.fragment&&f.fragment.l(v),v.forEach(J)}else f.fragment&&f.fragment.c();t.intro&&de(e.$$.fragment),me(e,t.target,t.anchor,t.customElement),nt()}Se(_)}class ve{$destroy(){he(this,1),this.$destroy=te}$on(t,n){if(!$e(n))return te;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(t){this.$$set&&!lt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Fe(e,t,n){const i=e.slice();return i[2]=t[n],i}function Pe(e){let t,n=e[0],i=[];for(let l=0;l<n.length;l+=1)i[l]=He(Fe(e,n,l));return{c(){t=y("div");for(let l=0;l<i.length;l+=1)i[l].c();b(t,"class","table")},m(l,o){U(l,t,o);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(l,o){if(o&3){n=l[0];let r;for(r=0;r<n.length;r+=1){const u=Fe(l,n,r);i[r]?i[r].p(u,o):(i[r]=He(u),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){l&&J(t),Te(i,l)}}}function He(e){let t,n,i=e[2].name+"",l,o,r,u=e[1](e[2].balance)+"",_;return{c(){t=y("div"),n=y("b"),l=V(i),o=V(":"),r=P(),_=V(u)},m(f,M){U(f,t,M),c(t,n),c(n,l),c(n,o),c(t,r),c(t,_)},p(f,M){M&1&&i!==(i=f[2].name+"")&&ee(l,i),M&3&&u!==(u=f[1](f[2].balance)+"")&&ee(_,u)},d(f){f&&J(t)}}}function mt(e){let t,n=e[0]&&Pe(e);return{c(){n&&n.c(),t=Ne()},m(i,l){n&&n.m(i,l),U(i,t,l)},p(i,[l]){i[0]?n?n.p(i,l):(n=Pe(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:te,o:te,d(i){n&&n.d(i),i&&J(t)}}}function ht(e,t,n){let{summary:i=[]}=t,{formatNumber:l}=t;return e.$$set=o=>{"summary"in o&&n(0,i=o.summary),"formatNumber"in o&&n(1,l=o.formatNumber)},[i,l]}class bt extends ve{constructor(t){super(),ye(this,t,ht,mt,pe,{summary:0,formatNumber:1})}}function Re(e,t,n){const i=e.slice();return i[2]=t[n],i}function We(e){let t,n=e[0],i=[];for(let l=0;l<n.length;l+=1)i[l]=qe(Re(e,n,l));return{c(){t=y("div");for(let l=0;l<i.length;l+=1)i[l].c();b(t,"class","table svelte-1k467oy")},m(l,o){U(l,t,o);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(l,o){if(o&3){n=l[0];let r;for(r=0;r<n.length;r+=1){const u=Re(l,n,r);i[r]?i[r].p(u,o):(i[r]=qe(u),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){l&&J(t),Te(i,l)}}}function qe(e){let t,n,i=e[2].name+"",l,o,r,u=e[1](e[2].balance)+"",_;return{c(){t=y("div"),n=y("b"),l=V(i),o=V(":"),r=P(),_=V(u)},m(f,M){U(f,t,M),c(t,n),c(n,l),c(n,o),c(t,r),c(t,_)},p(f,M){M&1&&i!==(i=f[2].name+"")&&ee(l,i),M&3&&u!==(u=f[1](f[2].balance)+"")&&ee(_,u)},d(f){f&&J(t)}}}function gt(e){let t,n=e[0]&&We(e);return{c(){n&&n.c(),t=Ne()},m(i,l){n&&n.m(i,l),U(i,t,l)},p(i,[l]){i[0]?n?n.p(i,l):(n=We(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:te,o:te,d(i){n&&n.d(i),i&&J(t)}}}function pt(e,t,n){let{accounts:i=[]}=t,{formatNumber:l}=t;return e.$$set=o=>{"accounts"in o&&n(0,i=o.accounts),"formatNumber"in o&&n(1,l=o.formatNumber)},[i,l]}class yt extends ve{constructor(t){super(),ye(this,t,pt,gt,pe,{accounts:0,formatNumber:1})}}function Be(e,t,n){const i=e.slice();return i[16]=t[n],i}function ze(e){let t,n=e[5],i=[];for(let l=0;l<n.length;l+=1)i[l]=Ge(Be(e,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();t=Ne()},m(l,o){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(l,o);U(l,t,o)},p(l,o){if(o&32){n=l[5];let r;for(r=0;r<n.length;r+=1){const u=Be(l,n,r);i[r]?i[r].p(u,o):(i[r]=Ge(u),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){Te(i,l),l&&J(t)}}}function Ge(e){let t,n=e[16].name+"",i,l;return{c(){t=y("option"),i=V(n),t.__value=l=e[16].id,t.value=t.__value},m(o,r){U(o,t,r),c(t,i)},p(o,r){r&32&&n!==(n=o[16].name+"")&&ee(i,n),r&32&&l!==(l=o[16].id)&&(t.__value=l,t.value=t.__value)},d(o){o&&J(t)}}}function vt(e){let t,n;return{c(){t=y("button"),n=V("REGISTRAR TRANSACCI\xD3N"),b(t,"type","submit"),b(t,"class","create svelte-yd8uy9"),t.disabled=e[7]},m(i,l){U(i,t,l),c(t,n)},p(i,l){l&128&&(t.disabled=i[7])},d(i){i&&J(t)}}}function wt(e){let t,n,i,l,o,r,u;return{c(){t=y("button"),n=V("ACTUALIZAR TRANSACCI\xD3N"),i=P(),l=y("button"),o=V("CANCELAR EDICI\xD3N"),b(t,"type","submit"),b(t,"class","edit svelte-yd8uy9"),t.disabled=e[7],b(l,"type","button"),b(l,"class","cancel svelte-yd8uy9"),l.disabled=e[7]},m(_,f){U(_,t,f),c(t,n),U(_,i,f),U(_,l,f),c(l,o),r||(u=K(l,"click",e[9]),r=!0)},p(_,f){f&128&&(t.disabled=_[7]),f&128&&(l.disabled=_[7])},d(_){_&&J(t),_&&J(i),_&&J(l),r=!1,u()}}}function kt(e){let t,n,i,l,o,r,u,_,f,M,v,A,w,Y,E,I,R,L,D,W,q,T,B,Z,j,N,S,C,G,d,a,s,h,m,g=e[5]&&ze(e);function k(O,z){return O[6]?wt:vt}let H=k(e),F=H(e);return{c(){t=y("form"),n=y("hr"),i=P(),l=y("div"),o=y("label"),o.textContent="Cuenta",r=P(),u=y("select"),_=y("option"),_.textContent="-- Seleccione --",g&&g.c(),f=P(),M=y("div"),v=y("label"),v.textContent="Fecha",A=P(),w=y("input"),Y=P(),E=y("div"),I=y("label"),I.textContent="Memo",R=P(),L=y("input"),D=P(),W=y("div"),q=y("label"),q.textContent="Monto",T=P(),B=y("input"),Z=P(),j=y("div"),N=y("label"),N.textContent="Tipo",S=P(),C=y("select"),G=y("option"),G.textContent="Deposito",d=y("option"),d.textContent="Gasto",a=P(),s=y("div"),F.c(),b(o,"for","account"),b(o,"class","svelte-yd8uy9"),_.__value="",_.value=_.__value,b(u,"name","account_id"),b(u,"id","account_id"),u.required=!0,b(u,"class","svelte-yd8uy9"),e[0]===void 0&&ge(()=>e[10].call(u)),b(l,"class","svelte-yd8uy9"),b(v,"for","created_at"),b(v,"class","svelte-yd8uy9"),b(w,"type","date"),b(w,"name","created_at"),b(w,"id","created_at"),w.required=!0,b(w,"class","svelte-yd8uy9"),b(M,"class","svelte-yd8uy9"),b(I,"for","memo"),b(I,"class","svelte-yd8uy9"),b(L,"name","memo"),b(L,"id","memo"),L.required=!0,b(L,"class","svelte-yd8uy9"),b(E,"class","svelte-yd8uy9"),b(q,"for","amount"),b(q,"class","svelte-yd8uy9"),b(B,"type","number"),b(B,"name","amount"),b(B,"id","amount"),B.required=!0,b(B,"class","svelte-yd8uy9"),b(W,"class","svelte-yd8uy9"),b(N,"for","type"),b(N,"class","svelte-yd8uy9"),G.__value="1",G.value=G.__value,d.__value="-1",d.value=d.__value,b(C,"name","type"),b(C,"id","type"),b(C,"class","svelte-yd8uy9"),e[2]===void 0&&ge(()=>e[14].call(C)),b(j,"class","svelte-yd8uy9"),b(s,"class","svelte-yd8uy9"),b(t,"class","svelte-yd8uy9")},m(O,z){U(O,t,z),c(t,n),c(t,i),c(t,l),c(l,o),c(l,r),c(l,u),c(u,_),g&&g.m(u,null),_e(u,e[0],!0),c(t,f),c(t,M),c(M,v),c(M,A),c(M,w),x(w,e[4]),c(t,Y),c(t,E),c(E,I),c(E,R),c(E,L),x(L,e[3]),c(t,D),c(t,W),c(W,q),c(W,T),c(W,B),x(B,e[1]),c(t,Z),c(t,j),c(j,N),c(j,S),c(j,C),c(C,G),c(C,d),_e(C,e[2],!0),c(t,a),c(t,s),F.m(s,null),h||(m=[K(u,"change",e[10]),K(w,"input",e[11]),K(L,"input",e[12]),K(B,"input",e[13]),K(C,"change",e[14]),K(t,"submit",e[8])],h=!0)},p(O,[z]){O[5]?g?g.p(O,z):(g=ze(O),g.c(),g.m(u,null)):g&&(g.d(1),g=null),z&33&&_e(u,O[0]),z&16&&x(w,O[4]),z&8&&L.value!==O[3]&&x(L,O[3]),z&2&&xe(B.value)!==O[1]&&x(B,O[1]),z&4&&_e(C,O[2]),H===(H=k(O))&&F?F.p(O,z):(F.d(1),F=H(O),F&&(F.c(),F.m(s,null)))},i:te,o:te,d(O){O&&J(t),g&&g.d(),F.d(),h=!1,se(m)}}}function Mt(e,t,n){let{accounts:i=[]}=t,{transaction_id:l=""}=t,{account_id:o=""}=t,{amount:r=""}=t,{type:u="-1"}=t,{memo:_=""}=t,{created_at:f=""}=t,{loading:M=!1}=t;const v=tt();function A(D){D.preventDefault(),v("submit")}function w(){v("cancel")}function Y(){o=je(this),n(0,o),n(5,i)}function E(){f=this.value,n(4,f)}function I(){_=this.value,n(3,_)}function R(){r=xe(this.value),n(1,r)}function L(){u=je(this),n(2,u)}return e.$$set=D=>{"accounts"in D&&n(5,i=D.accounts),"transaction_id"in D&&n(6,l=D.transaction_id),"account_id"in D&&n(0,o=D.account_id),"amount"in D&&n(1,r=D.amount),"type"in D&&n(2,u=D.type),"memo"in D&&n(3,_=D.memo),"created_at"in D&&n(4,f=D.created_at),"loading"in D&&n(7,M=D.loading)},[o,r,u,_,f,i,l,M,A,w,Y,E,I,R,L]}class St extends ve{constructor(t){super(),ye(this,t,Mt,kt,pe,{accounts:5,transaction_id:6,account_id:0,amount:1,type:2,memo:3,created_at:4,loading:7})}}function Je(e,t,n){const i=e.slice();return i[19]=t[n],i}function Ue(e,t,n){const i=e.slice();return i[22]=t[n],i}function Dt(e){let t,n,i,l,o,r,u,_,f,M,v,A,w,Y,E,I,R,L,D,W,q,T,B,Z,j=e[5]&&Ze(e),N=e[4],S=[];for(let C=0;C<N.length;C+=1)S[C]=Ke(Je(e,N,C));return{c(){t=y("table"),n=y("tr"),n.innerHTML=`<th class="svelte-1mafbl1">#</th> 
        <th class="svelte-1mafbl1">Cuenta</th> 
        <th class="svelte-1mafbl1">Monto</th> 
        <th class="svelte-1mafbl1">Fecha</th> 
        <th class="svelte-1mafbl1">Descripci\xF3n</th> 
        <th class="svelte-1mafbl1"></th>`,i=P(),l=y("tr"),o=y("th"),r=P(),u=y("th"),_=y("select"),f=y("option"),f.textContent="-- Seleccione --",j&&j.c(),M=P(),v=y("th"),A=y("input"),w=P(),Y=y("th"),E=y("input"),I=P(),R=y("th"),L=y("input"),D=P(),W=y("th"),q=y("button"),q.textContent="FILTRAR",T=P();for(let C=0;C<S.length;C+=1)S[C].c();b(o,"class","svelte-1mafbl1"),f.__value="",f.value=f.__value,e[0]===void 0&&ge(()=>e[12].call(_)),b(u,"class","svelte-1mafbl1"),b(v,"class","svelte-1mafbl1"),b(E,"type","date"),b(Y,"class","svelte-1mafbl1"),et(L,"width","95%"),b(R,"class","svelte-1mafbl1"),b(q,"type","button"),b(W,"class","svelte-1mafbl1"),b(t,"class","svelte-1mafbl1")},m(C,G){U(C,t,G),c(t,n),c(t,i),c(t,l),c(l,o),c(l,r),c(l,u),c(u,_),c(_,f),j&&j.m(_,null),_e(_,e[0],!0),c(l,M),c(l,v),c(v,A),x(A,e[1]),c(l,w),c(l,Y),c(Y,E),x(E,e[2]),c(l,I),c(l,R),c(R,L),x(L,e[3]),c(l,D),c(l,W),c(W,q),c(t,T);for(let d=0;d<S.length;d+=1)S[d]&&S[d].m(t,null);B||(Z=[K(_,"change",e[12]),K(A,"input",e[13]),K(E,"input",e[14]),K(L,"input",e[15]),K(q,"click",e[11])],B=!0)},p(C,G){if(C[5]?j?j.p(C,G):(j=Ze(C),j.c(),j.m(_,null)):j&&(j.d(1),j=null),G&33&&_e(_,C[0]),G&2&&A.value!==C[1]&&x(A,C[1]),G&4&&x(E,C[2]),G&8&&L.value!==C[3]&&x(L,C[3]),G&1616){N=C[4];let d;for(d=0;d<N.length;d+=1){const a=Je(C,N,d);S[d]?S[d].p(a,G):(S[d]=Ke(a),S[d].c(),S[d].m(t,null))}for(;d<S.length;d+=1)S[d].d(1);S.length=N.length}},d(C){C&&J(t),j&&j.d(),Te(S,C),B=!1,se(Z)}}}function Tt(e){let t,n;return{c(){t=y("div"),n=V(e[8]),et(t,"color","red")},m(i,l){U(i,t,l),c(t,n)},p(i,l){l&256&&ee(n,i[8])},d(i){i&&J(t)}}}function Ct(e){let t;return{c(){t=y("div"),t.textContent="Cargando..."},m(n,i){U(n,t,i)},p:te,d(n){n&&J(t)}}}function Ze(e){let t,n=e[5],i=[];for(let l=0;l<n.length;l+=1)i[l]=Ve(Ue(e,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();t=Ne()},m(l,o){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(l,o);U(l,t,o)},p(l,o){if(o&32){n=l[5];let r;for(r=0;r<n.length;r+=1){const u=Ue(l,n,r);i[r]?i[r].p(u,o):(i[r]=Ve(u),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){Te(i,l),l&&J(t)}}}function Ve(e){let t,n=e[22].name+"",i,l;return{c(){t=y("option"),i=V(n),t.__value=l=e[22].id,t.value=t.__value},m(o,r){U(o,t,r),c(t,i)},p(o,r){r&32&&n!==(n=o[22].name+"")&&ee(i,n),r&32&&l!==(l=o[22].id)&&(t.__value=l,t.value=t.__value)},d(o){o&&J(t)}}}function Ke(e){let t,n,i=e[19].id+"",l,o,r,u=e[19].name+"",_,f,M,v=e[6](e[19].amount)+"",A,w,Y,E,I=e[19].created_at+"",R,L,D,W=e[19].memo+"",q,T,B,Z,j,N,S,C,G;function d(){return e[16](e[19])}function a(){return e[17](e[19])}return{c(){t=y("tr"),n=y("td"),l=V(i),o=P(),r=y("td"),_=V(u),f=P(),M=y("td"),A=V(v),Y=P(),E=y("td"),R=V(I),L=P(),D=y("td"),q=V(W),T=P(),B=y("td"),Z=y("button"),Z.textContent="\u{1F58A}\uFE0F",j=P(),N=y("button"),N.textContent="x",S=P(),b(n,"class","svelte-1mafbl1"),b(r,"class","svelte-1mafbl1"),b(M,"class",w=fe(`transaction-${e[19].type}`)+" svelte-1mafbl1"),b(E,"class","svelte-1mafbl1"),b(D,"class","svelte-1mafbl1"),b(Z,"type","button"),b(Z,"class","delete svelte-1mafbl1"),b(Z,"aria-label","Editar transacci\xF3n"),b(N,"type","button"),b(N,"class","delete svelte-1mafbl1"),b(N,"aria-label","Eliminar transacci\xF3n"),b(B,"class","svelte-1mafbl1")},m(s,h){U(s,t,h),c(t,n),c(n,l),c(t,o),c(t,r),c(r,_),c(t,f),c(t,M),c(M,A),c(t,Y),c(t,E),c(E,R),c(t,L),c(t,D),c(D,q),c(t,T),c(t,B),c(B,Z),c(B,j),c(B,N),c(t,S),C||(G=[K(Z,"click",d),K(N,"click",a)],C=!0)},p(s,h){e=s,h&16&&i!==(i=e[19].id+"")&&ee(l,i),h&16&&u!==(u=e[19].name+"")&&ee(_,u),h&80&&v!==(v=e[6](e[19].amount)+"")&&ee(A,v),h&16&&w!==(w=fe(`transaction-${e[19].type}`)+" svelte-1mafbl1")&&b(M,"class",w),h&16&&I!==(I=e[19].created_at+"")&&ee(R,I),h&16&&W!==(W=e[19].memo+"")&&ee(q,W)},d(s){s&&J(t),C=!1,se(G)}}}function Et(e){let t,n,i;function l(u,_){if(u[7])return Ct;if(u[8])return Tt;if(u[4]&&u[4].length)return Dt}let o=l(e),r=o&&o(e);return{c(){t=y("div"),n=y("hr"),i=P(),r&&r.c(),b(t,"class","transactions svelte-1mafbl1")},m(u,_){U(u,t,_),c(t,n),c(t,i),r&&r.m(t,null)},p(u,[_]){o===(o=l(u))&&r?r.p(u,_):(r&&r.d(1),r=o&&o(u),r&&(r.c(),r.m(t,null)))},i:te,o:te,d(u){u&&J(t),r&&r.d()}}}function Nt(e,t,n){let{transactions:i=[]}=t,{accounts:l=[]}=t,{filter_account_id:o=""}=t,{filter_amount:r=""}=t,{filter_created_at:u=""}=t,{filter_memo:_=""}=t,{formatNumber:f}=t,{loading:M=!1}=t,{error:v=""}=t;const A=tt();function w(T){A("edit",T)}function Y(T){A("remove",T)}function E(){A("filter")}function I(){o=je(this),n(0,o),n(5,l)}function R(){r=this.value,n(1,r)}function L(){u=this.value,n(2,u)}function D(){_=this.value,n(3,_)}const W=T=>w(T),q=T=>Y(T);return e.$$set=T=>{"transactions"in T&&n(4,i=T.transactions),"accounts"in T&&n(5,l=T.accounts),"filter_account_id"in T&&n(0,o=T.filter_account_id),"filter_amount"in T&&n(1,r=T.filter_amount),"filter_created_at"in T&&n(2,u=T.filter_created_at),"filter_memo"in T&&n(3,_=T.filter_memo),"formatNumber"in T&&n(6,f=T.formatNumber),"loading"in T&&n(7,M=T.loading),"error"in T&&n(8,v=T.error)},[o,r,u,_,i,l,f,M,v,w,Y,E,I,R,L,D,W,q]}class Ot extends ve{constructor(t){super(),ye(this,t,Nt,Et,pe,{transactions:4,accounts:5,filter_account_id:0,filter_amount:1,filter_created_at:2,filter_memo:3,formatNumber:6,loading:7,error:8})}}var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(At,function(){var n=1e3,i=6e4,l=36e5,o="millisecond",r="second",u="minute",_="hour",f="day",M="week",v="month",A="quarter",w="year",Y="date",E="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var a=["th","st","nd","rd"],s=d%100;return"["+d+(a[(s-20)%10]||a[s]||a[0])+"]"}},D=function(d,a,s){var h=String(d);return!h||h.length>=a?d:""+Array(a+1-h.length).join(s)+d},W={s:D,z:function(d){var a=-d.utcOffset(),s=Math.abs(a),h=Math.floor(s/60),m=s%60;return(a<=0?"+":"-")+D(h,2,"0")+":"+D(m,2,"0")},m:function d(a,s){if(a.date()<s.date())return-d(s,a);var h=12*(s.year()-a.year())+(s.month()-a.month()),m=a.clone().add(h,v),g=s-m<0,k=a.clone().add(h+(g?-1:1),v);return+(-(h+(s-m)/(g?m-k:k-m))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:v,y:w,w:M,d:f,D:Y,h:_,m:u,s:r,ms:o,Q:A}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},q="en",T={};T[q]=L;var B="$isDayjsObject",Z=function(d){return d instanceof C||!(!d||!d[B])},j=function d(a,s,h){var m;if(!a)return q;if(typeof a=="string"){var g=a.toLowerCase();T[g]&&(m=g),s&&(T[g]=s,m=g);var k=a.split("-");if(!m&&k.length>1)return d(k[0])}else{var H=a.name;T[H]=a,m=H}return!h&&m&&(q=m),m||!h&&q},N=function(d,a){if(Z(d))return d.clone();var s=typeof a=="object"?a:{};return s.date=d,s.args=arguments,new C(s)},S=W;S.l=j,S.i=Z,S.w=function(d,a){return N(d,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var C=function(){function d(s){this.$L=j(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[B]=!0}var a=d.prototype;return a.parse=function(s){this.$d=function(h){var m=h.date,g=h.utc;if(m===null)return new Date(NaN);if(S.u(m))return new Date;if(m instanceof Date)return new Date(m);if(typeof m=="string"&&!/Z$/i.test(m)){var k=m.match(I);if(k){var H=k[2]-1||0,F=(k[7]||"0").substring(0,3);return g?new Date(Date.UTC(k[1],H,k[3]||1,k[4]||0,k[5]||0,k[6]||0,F)):new Date(k[1],H,k[3]||1,k[4]||0,k[5]||0,k[6]||0,F)}}return new Date(m)}(s),this.init()},a.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},a.$utils=function(){return S},a.isValid=function(){return this.$d.toString()!==E},a.isSame=function(s,h){var m=N(s);return this.startOf(h)<=m&&m<=this.endOf(h)},a.isAfter=function(s,h){return N(s)<this.startOf(h)},a.isBefore=function(s,h){return this.endOf(h)<N(s)},a.$g=function(s,h,m){return S.u(s)?this[h]:this.set(m,s)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(s,h){var m=this,g=!!S.u(h)||h,k=S.p(s),H=function(ne,X){var oe=S.w(m.$u?Date.UTC(m.$y,X,ne):new Date(m.$y,X,ne),m);return g?oe:oe.endOf(f)},F=function(ne,X){return S.w(m.toDate()[ne].apply(m.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(X)),m)},O=this.$W,z=this.$M,Q=this.$D,ae="set"+(this.$u?"UTC":"");switch(k){case w:return g?H(1,0):H(31,11);case v:return g?H(1,z):H(0,z+1);case M:var re=this.$locale().weekStart||0,p=(O<re?O+7:O)-re;return H(g?Q-p:Q+(6-p),z);case f:case Y:return F(ae+"Hours",0);case _:return F(ae+"Minutes",1);case u:return F(ae+"Seconds",2);case r:return F(ae+"Milliseconds",3);default:return this.clone()}},a.endOf=function(s){return this.startOf(s,!1)},a.$set=function(s,h){var m,g=S.p(s),k="set"+(this.$u?"UTC":""),H=(m={},m[f]=k+"Date",m[Y]=k+"Date",m[v]=k+"Month",m[w]=k+"FullYear",m[_]=k+"Hours",m[u]=k+"Minutes",m[r]=k+"Seconds",m[o]=k+"Milliseconds",m)[g],F=g===f?this.$D+(h-this.$W):h;if(g===v||g===w){var O=this.clone().set(Y,1);O.$d[H](F),O.init(),this.$d=O.set(Y,Math.min(this.$D,O.daysInMonth())).$d}else H&&this.$d[H](F);return this.init(),this},a.set=function(s,h){return this.clone().$set(s,h)},a.get=function(s){return this[S.p(s)]()},a.add=function(s,h){var m,g=this;s=Number(s);var k=S.p(h),H=function(z){var Q=N(g);return S.w(Q.date(Q.date()+Math.round(z*s)),g)};if(k===v)return this.set(v,this.$M+s);if(k===w)return this.set(w,this.$y+s);if(k===f)return H(1);if(k===M)return H(7);var F=(m={},m[u]=i,m[_]=l,m[r]=n,m)[k]||1,O=this.$d.getTime()+s*F;return S.w(O,this)},a.subtract=function(s,h){return this.add(-1*s,h)},a.format=function(s){var h=this,m=this.$locale();if(!this.isValid())return m.invalidDate||E;var g=s||"YYYY-MM-DDTHH:mm:ssZ",k=S.z(this),H=this.$H,F=this.$m,O=this.$M,z=m.weekdays,Q=m.months,ae=m.meridiem,re=function(X,oe,we,Ce){return X&&(X[oe]||X(h,g))||we[oe].slice(0,Ce)},p=function(X){return S.s(H%12||12,X,"0")},ne=ae||function(X,oe,we){var Ce=X<12?"AM":"PM";return we?Ce.toLowerCase():Ce};return g.replace(R,function(X,oe){return oe||function(we){switch(we){case"YY":return String(h.$y).slice(-2);case"YYYY":return S.s(h.$y,4,"0");case"M":return O+1;case"MM":return S.s(O+1,2,"0");case"MMM":return re(m.monthsShort,O,Q,3);case"MMMM":return re(Q,O);case"D":return h.$D;case"DD":return S.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return re(m.weekdaysMin,h.$W,z,2);case"ddd":return re(m.weekdaysShort,h.$W,z,3);case"dddd":return z[h.$W];case"H":return String(H);case"HH":return S.s(H,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return ne(H,F,!0);case"A":return ne(H,F,!1);case"m":return String(F);case"mm":return S.s(F,2,"0");case"s":return String(h.$s);case"ss":return S.s(h.$s,2,"0");case"SSS":return S.s(h.$ms,3,"0");case"Z":return k}return null}(X)||k.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(s,h,m){var g,k=this,H=S.p(h),F=N(s),O=(F.utcOffset()-this.utcOffset())*i,z=this-F,Q=function(){return S.m(k,F)};switch(H){case w:g=Q()/12;break;case v:g=Q();break;case A:g=Q()/3;break;case M:g=(z-O)/6048e5;break;case f:g=(z-O)/864e5;break;case _:g=z/l;break;case u:g=z/i;break;case r:g=z/n;break;default:g=z}return m?g:S.a(g)},a.daysInMonth=function(){return this.endOf(v).$D},a.$locale=function(){return T[this.$L]},a.locale=function(s,h){if(!s)return this.$L;var m=this.clone(),g=j(s,h,!0);return g&&(m.$L=g),m},a.clone=function(){return S.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},d}(),G=C.prototype;return N.prototype=G,[["$ms",o],["$s",r],["$m",u],["$H",_],["$W",f],["$M",v],["$y",w],["$D",Y]].forEach(function(d){G[d[1]]=function(a){return this.$g(a,d[0],d[1])}}),N.extend=function(d,a){return d.$i||(d(a,C,N),d.$i=!0),N},N.locale=j,N.isDayjs=Z,N.unix=function(d){return N(1e3*d)},N.en=T[q],N.Ls=T,N.p={},N})})(it);const Qe=it.exports;function jt(e){let t,n,i,l,o,r,u,_,f,M,v,A,w,Y,E,I,R,L;t=new bt({props:{summary:e[8],formatNumber:Ae}}),i=new yt({props:{accounts:e[6],formatNumber:Ae}});function D(a){e[21](a)}function W(a){e[22](a)}function q(a){e[23](a)}function T(a){e[24](a)}function B(a){e[25](a)}function Z(a){e[26](a)}let j={accounts:e[6],loading:e[13]};e[0]!==void 0&&(j.transaction_id=e[0]),e[1]!==void 0&&(j.account_id=e[1]),e[2]!==void 0&&(j.amount=e[2]),e[3]!==void 0&&(j.type=e[3]),e[4]!==void 0&&(j.memo=e[4]),e[5]!==void 0&&(j.created_at=e[5]),o=new St({props:j}),$.push(()=>le(o,"transaction_id",D)),$.push(()=>le(o,"account_id",W)),$.push(()=>le(o,"amount",q)),$.push(()=>le(o,"type",T)),$.push(()=>le(o,"memo",B)),$.push(()=>le(o,"created_at",Z)),o.$on("submit",e[15]),o.$on("cancel",e[18]);function N(a){e[27](a)}function S(a){e[28](a)}function C(a){e[29](a)}function G(a){e[30](a)}let d={transactions:e[7],accounts:e[6],formatNumber:Ae,loading:e[13],error:e[14]};return e[9]!==void 0&&(d.filter_account_id=e[9]),e[10]!==void 0&&(d.filter_amount=e[10]),e[11]!==void 0&&(d.filter_created_at=e[11]),e[12]!==void 0&&(d.filter_memo=e[12]),w=new Ot({props:d}),$.push(()=>le(w,"filter_account_id",N)),$.push(()=>le(w,"filter_amount",S)),$.push(()=>le(w,"filter_created_at",C)),$.push(()=>le(w,"filter_memo",G)),w.$on("edit",e[31]),w.$on("remove",e[32]),w.$on("filter",e[19]),{c(){Me(t.$$.fragment),n=P(),Me(i.$$.fragment),l=P(),Me(o.$$.fragment),A=P(),Me(w.$$.fragment)},m(a,s){me(t,a,s),U(a,n,s),me(i,a,s),U(a,l,s),me(o,a,s),U(a,A,s),me(w,a,s),L=!0},p(a,s){const h={};s[0]&256&&(h.summary=a[8]),t.$set(h);const m={};s[0]&64&&(m.accounts=a[6]),i.$set(m);const g={};s[0]&64&&(g.accounts=a[6]),s[0]&8192&&(g.loading=a[13]),!r&&s[0]&1&&(r=!0,g.transaction_id=a[0],ie(()=>r=!1)),!u&&s[0]&2&&(u=!0,g.account_id=a[1],ie(()=>u=!1)),!_&&s[0]&4&&(_=!0,g.amount=a[2],ie(()=>_=!1)),!f&&s[0]&8&&(f=!0,g.type=a[3],ie(()=>f=!1)),!M&&s[0]&16&&(M=!0,g.memo=a[4],ie(()=>M=!1)),!v&&s[0]&32&&(v=!0,g.created_at=a[5],ie(()=>v=!1)),o.$set(g);const k={};s[0]&128&&(k.transactions=a[7]),s[0]&64&&(k.accounts=a[6]),s[0]&8192&&(k.loading=a[13]),s[0]&16384&&(k.error=a[14]),!Y&&s[0]&512&&(Y=!0,k.filter_account_id=a[9],ie(()=>Y=!1)),!E&&s[0]&1024&&(E=!0,k.filter_amount=a[10],ie(()=>E=!1)),!I&&s[0]&2048&&(I=!0,k.filter_created_at=a[11],ie(()=>I=!1)),!R&&s[0]&4096&&(R=!0,k.filter_memo=a[12],ie(()=>R=!1)),w.$set(k)},i(a){L||(de(t.$$.fragment,a),de(i.$$.fragment,a),de(o.$$.fragment,a),de(w.$$.fragment,a),L=!0)},o(a){ke(t.$$.fragment,a),ke(i.$$.fragment,a),ke(o.$$.fragment,a),ke(w.$$.fragment,a),L=!1},d(a){he(t,a),a&&J(n),he(i,a),a&&J(l),he(o,a),a&&J(A),he(w,a)}}}function Ae(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,".")}function Lt(e,t,n){let i;const l={}.VITE_API_BASE;let{fondo:o="casita"}=t,r="",u="",_="",f="-1",M="",v=Qe().format("YYYY-MM-DD"),A=[],w=[],Y=[],E="",I="",R="",L="",D=!1,W="";async function q(){try{n(13,D=!0);const p=await fetch(i+"accounts");n(6,A=await p.json())}catch{n(14,W="Error cargando cuentas")}finally{n(13,D=!1)}}async function T(){try{n(13,D=!0);let p=[];E&&p.push(`account_id=${E}`),I&&p.push(`amount=${I}`),R&&p.push(`created_at=${R}`),L&&p.push(`memo=${L}`);const ne=await fetch(i+"transactions?page_size=100"+(p.length?"&"+p.join("&"):""));n(7,w=await ne.json())}catch{n(14,W="Error cargando transacciones")}finally{n(13,D=!1)}}async function B(){try{n(13,D=!0);const p=await fetch(i+"summary");n(8,Y=await p.json())}catch{n(14,W="Error cargando resumen")}finally{n(13,D=!1)}}async function Z(){r?await C():await j()}async function j(){if(!u){alert("Seleccione una cuenta");return}try{n(13,D=!0),await(await fetch(i+"transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_id:u,amount:_,type:f,memo:M,created_at:v})})).json(),G(),await Promise.all([q(),T()])}catch{n(14,W="Error registrando transacci\xF3n")}finally{n(13,D=!1)}}async function N(p){if(!!confirm(`Remover la transacci\xF3n de ${p.memo} por Bs. ${p.amount}?`))try{n(13,D=!0),await fetch(i+"remove_transaction/"+p.id,{method:"DELETE"}),await Promise.all([q(),T()]),n(1,u=p.account_id),n(2,_=p.amount),n(3,f=p.type),n(4,M=p.memo),n(5,v=p.created_at)}catch{n(14,W="Error eliminando transacci\xF3n")}finally{n(13,D=!1)}}function S(p){n(0,r=p.id),n(1,u=p.account_id),n(2,_=p.amount),n(3,f=p.type),n(4,M=p.memo),n(5,v=p.created_at)}async function C(){if(!r){alert("Falta ID de la transaccion");return}if(!u){alert("Seleccione una cuenta");return}try{n(13,D=!0),await fetch(i+"update_transaction/"+r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_id:u,amount:_,type:f,memo:M,created_at:v})}),G(),await Promise.all([q(),T()])}catch{n(14,W="Error actualizando transacci\xF3n")}finally{n(13,D=!1)}}function G(){n(0,r=""),n(1,u=""),n(2,_=""),n(3,f="-1"),n(4,M=""),n(5,v=Qe().format("YYYY-MM-DD"))}function d(){G()}function a(){T()}function s(p){r=p,n(0,r)}function h(p){u=p,n(1,u)}function m(p){_=p,n(2,_)}function g(p){f=p,n(3,f)}function k(p){M=p,n(4,M)}function H(p){v=p,n(5,v)}function F(p){E=p,n(9,E)}function O(p){I=p,n(10,I)}function z(p){R=p,n(11,R)}function Q(p){L=p,n(12,L)}const ae=p=>S(p.detail),re=p=>N(p.detail);return e.$$set=p=>{"fondo"in p&&n(20,o=p.fondo)},e.$$.update=()=>{e.$$.dirty[0]&1048576&&(i=`${l}/${o}/`),e.$$.dirty[0]&1048576&&o&&(q(),T(),B())},[r,u,_,f,M,v,A,w,Y,E,I,R,L,D,W,Z,N,S,d,a,o,s,h,m,g,k,H,F,O,z,Q,ae,re]}class Yt extends ve{constructor(t){super(),ye(this,t,Lt,jt,pe,{fondo:20},null,[-1,-1])}}function It(e){let t,n,i,l,o,r,u,_,f,M,v,A,w,Y;return v=new Yt({props:{fondo:e[0]}}),{c(){t=y("main"),n=y("nav"),i=y("button"),l=V("Construcci\xF3n"),r=P(),u=y("button"),_=V("Gastos hogar"),M=P(),Me(v.$$.fragment),b(i,"class",o=fe(e[0]==="casita"?"active":"inactive")+" svelte-i8o7sj"),b(u,"class",f=fe(e[0]==="hogar"?"active":"inactive")+" svelte-i8o7sj")},m(E,I){U(E,t,I),c(t,n),c(n,i),c(i,l),c(n,r),c(n,u),c(u,_),c(t,M),me(v,t,null),A=!0,w||(Y=[K(i,"click",e[1]),K(u,"click",e[2])],w=!0)},p(E,[I]){(!A||I&1&&o!==(o=fe(E[0]==="casita"?"active":"inactive")+" svelte-i8o7sj"))&&b(i,"class",o),(!A||I&1&&f!==(f=fe(E[0]==="hogar"?"active":"inactive")+" svelte-i8o7sj"))&&b(u,"class",f);const R={};I&1&&(R.fondo=E[0]),v.$set(R)},i(E){A||(de(v.$$.fragment,E),A=!0)},o(E){ke(v.$$.fragment,E),A=!1},d(E){E&&J(t),he(v),w=!1,se(Y)}}}function Ft(e,t,n){let i=window.location.hash==="#/hogar"?"hogar":"casita";return[i,()=>n(0,i="casita"),()=>n(0,i="hogar")]}class Pt extends ve{constructor(t){super(),ye(this,t,Ft,It,pe,{})}}new Pt({target:document.getElementById("app")});
